@extends("includes.header")
@section("breadcrumb")
    <li><span class="ant-breadcrumb-link"><a>Home Page</a></span></li>
@endsection
@extends("layouts.index")
@section("title")
    <title>Home Page</title>
@endsection
@section("body")
<main class="ant-layout-content css-12jzuas" style="padding: 24px; overflow: auto;">
    <div class="sc-dicizt jgZVwD">
        <div class="club">
            <div class="carousel-title">
                <h2 class="ant-typography css-12jzuas" style="margin: 0px;"><a href="{{ route('club.book', ['club_id' => 5]) }}" rel="noopener noreferrer"
                                                                               style="text-decoration: none;">D
                        Free Book Test</a>
                     <path
                                    d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"></path></svg></span></span>
                </h2>
            </div>
            <section style="margin: 20px 0px;">
                <div class="react-multi-carousel-list carousel-container " dir="ltr">
                    <ul class="react-multi-carousel-track "
                        style="transition: none 0s ease 0s; overflow: unset; transform: translate3d(-1794px, 0px, 0px);">

                    </ul>
                    <button aria-label="Go to previous slide"
                            class="react-multiple-carousel__arrow react-multiple-carousel__arrow--left "
                            type="button" fdprocessedid="wyafxk"></button>
                    <button aria-label="Go to next slide"
                            class="react-multiple-carousel__arrow react-multiple-carousel__arrow--right "
                            type="button" fdprocessedid="x1cmc8"></button>
                </div>
            </section>
            <div class="ant-space css-12jzuas ant-space-vertical" style="display: flex; gap: 24px;">
                <div class="ant-space-item">
                    <div class="ant-card ant-card-bordered ant-card-default css-12jzuas">
                        <div class="ant-card-head">
                            <div class="ant-card-head-wrapper">
                                <div class="ant-card-head-title">Introduce</div>
                            </div>
                        </div>
                        <div class="ant-card-body"><p>Ch√∫ng m√¨nh l√† th∆∞ vi·ªán c·ªông ƒë·ªìng cho m∆∞·ª£n s√°ch
                                mi·ªÖn ph√≠, ch·ªâ ƒë·∫∑t c·ªçc ni·ªÅm tin üíö</p>
                            <p>Address: S·ªë 107, khu t·∫≠p th·ªÉ A5, ng√µ 128C ƒê·∫°i La</p>
                            <p>Open time: 8h30 - 22h m·ªói ng√†y</p>
                            <p>Contact: 0962188248</p><a href="https://www.facebook.com/dfreebook"
                                                         target="_blank" rel="noopener noreferrer">https://www.facebook.com/dfreebook</a>
                        </div>
                    </div>
                </div>
            </div>
            <section style="margin: 20px 0px;">
                <div class="react-multi-carousel-list carousel-container " dir="ltr">
                    <ul>
                    </ul>
                    <button aria-label="Go to previous slide"
                            class="react-multiple-carousel__arrow react-multiple-carousel__arrow--left "
                            type="button"></button>
                    <button aria-label="Go to next slide"
                            class="react-multiple-carousel__arrow react-multiple-carousel__arrow--right "
                            type="button"></button>
                </div>
            </section>
        </div>
        <div class="club">
            <div class="carousel-title">
                <h2 class="ant-typography css-12jzuas" style="margin: 0px;"><a href="{{ route('club.book', ['club_id' => 3]) }}" rel="noopener noreferrer"
                                                                               style="text-decoration: none;">D
                        Free Book ƒê·∫°i La</a><path
                                    d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"></path></svg></span></span>
                </h2>
            </div>
            <div class="ant-space css-12jzuas ant-space-vertical" style="display: flex; gap: 24px;">
                <div class="ant-space-item">
                    <div class="ant-card ant-card-bordered ant-card-default css-12jzuas">
                        <div class="ant-card-head">
                            <div class="ant-card-head-wrapper">
                                <div class="ant-card-head-title">Introduce</div>
                            </div>
                        </div>
                        <div class="ant-card-body"><p>Ch√∫ng m√¨nh l√† th∆∞ vi·ªán c·ªông ƒë·ªìng cho m∆∞·ª£n s√°ch
                                mi·ªÖn ph√≠, ch·ªâ ƒë·∫∑t c·ªçc ni·ªÅm tin üíö</p>
                            <p>Address: S·ªë 107, khu t·∫≠p th·ªÉ A5, ng√µ 128C ƒê·∫°i La</p>
                            <p>Open time: 8h30 - 22h m·ªói ng√†y</p>
                            <p>Contact: 0962188248</p><a href="https://www.facebook.com/dfreebook"
                                                         target="_blank" rel="noopener noreferrer">https://www.facebook.com/dfreebook</a>
                        </div>
                    </div>
                </div>
            </div>
            <section style="margin: 20px 0px;">
                <div class="react-multi-carousel-list carousel-container " dir="ltr">
                    <ul class="react-multi-carousel-track "
                        style="transition: none 0s ease 0s; overflow: unset; transform: translate3d(-1794px, 0px, 0px);">

                    </ul>
                    <button aria-label="Go to previous slide"
                            class="react-multiple-carousel__arrow react-multiple-carousel__arrow--left "
                            type="button"></button>
                    <button aria-label="Go to next slide"
                            class="react-multiple-carousel__arrow react-multiple-carousel__arrow--right "
                            type="button"></button>
                </div>
            </section>
        </div>
        <div class="club">
            <div class="carousel-title">
                <h2 class="ant-typography css-12jzuas" style="margin: 0px;"><a href="{{ route('club.book', ['club_id' => 4]) }}" rel="noopener noreferrer"
                                                                               style="text-decoration: none;">D
                        Free Book C·∫ßu Gi·∫•y</a><path
                                    d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"></path></svg></span></span>
                </h2>
            </div>
            <div class="ant-space css-12jzuas ant-space-vertical" style="display: flex; gap: 24px;">
                <div class="ant-space-item">
                    <div class="ant-card ant-card-bordered ant-card-default css-12jzuas">
                        <div class="ant-card-head">
                            <div class="ant-card-head-wrapper">
                                <div class="ant-card-head-title">Introduce</div>
                            </div>
                        </div>
                        <div class="ant-card-body"><p>Ch√∫ng m√¨nh l√† th∆∞ vi·ªán c·ªông ƒë·ªìng cho m∆∞·ª£n s√°ch
                                mi·ªÖn ph√≠, ch·ªâ ƒë·∫∑t c·ªçc ni·ªÅm tin üíö</p>
                            <p>Address: S·ªë 107, khu t·∫≠p th·ªÉ A5, ng√µ 128C ƒê·∫°i La</p>
                            <p>Open time: 8h30 - 22h m·ªói ng√†y</p>
                            <p>Contact: 0962188248</p><a href="https://www.facebook.com/dfreebook"
                                                         target="_blank" rel="noopener noreferrer">https://www.facebook.com/dfreebook</a>
                        </div>
                    </div>
                </div>
            </div>
            <section style="margin: 20px 0px;">
                <div class="react-multi-carousel-list carousel-container " dir="ltr">
                    <ul class="react-multi-carousel-track "
                        style="transition: none 0s ease 0s; overflow: unset; transform: translate3d(-1794px, 0px, 0px);">

                    </ul>
                    <button aria-label="Go to previous slide"
                            class="react-multiple-carousel__arrow react-multiple-carousel__arrow--left "
                            type="button"></button>
                    <button aria-label="Go to next slide"
                            class="react-multiple-carousel__arrow react-multiple-carousel__arrow--right "
                            type="button"></button>
                </div>
            </section>
        </div>
    </div>
    <div class="sc-dicizt jgZVwD">
        <div class="table-header">
            <form id="bookSearchForm" autocomplete="off"
                  class="ant-form ant-form-vertical css-12jzuas ant-pro-query-filter home-page-search_book ant-pro-form"
                  style="padding: 0px;"><input type="text" style="display: none;">
                <div class="ant-row ant-row-start ant-pro-query-filter-row css-1wx4d4d css-12jzuas"
                     style="margin-left: -12px; margin-right: -12px;">
                    <div
                        class="ant-col ant-col-6 ant-pro-query-filter-row-split css-1wx4d4d css-12jzuas"
                        style="padding-left: 12px; padding-right: 12px;">
                        <div class="ant-form-item css-12jzuas">
                            <div class="ant-row ant-form-item-row css-12jzuas">
                                <div class="ant-col ant-form-item-label css-12jzuas"><label
                                        for="book_name" class="" title="Search">Search</label></div>
                                <div class="ant-col ant-form-item-control css-12jzuas">
                                    <div class="ant-form-item-control-input">
                                        <div class="ant-form-item-control-input-content"><span
                                                class="ant-input-affix-wrapper css-12jzuas"
                                                style="width: 100%;"><input
                                                    placeholder="Input book name to search"
                                                    id="book_name"
                                                    class="ant-input css-12jzuas" type="text"
                                                    value=""><span
                                                    class="ant-input-suffix"><span
                                                        class="ant-input-clear-icon ant-input-clear-icon-hidden"
                                                        role="button" tabindex="-1"><span role="img"
                                                                                          aria-label="close-circle"
                                                                                          class="anticon anticon-close-circle"><svg
                                                                viewBox="64 64 896 896"
                                                                focusable="false"
                                                                data-icon="close-circle" width="1em"
                                                                height="1em"
                                                                fill="currentColor" aria-hidden="true"><path
                                                                    d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"></path></svg></span></span></span></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="ant-col ant-col-6 ant-col-offset-12 css-12jzuas"
                         style="padding-left: 12px; padding-right: 12px; text-align: end;">
                        <div class="ant-form-item ant-pro-query-filter-actions css-1wx4d4d css-12jzuas">
                            <div class="ant-row ant-form-item-row css-12jzuas">
                                <div class="ant-col ant-form-item-label css-12jzuas"><label
                                        class="ant-form-item-no-colon" title=" "> </label></div>
                                <div class="ant-col ant-form-item-control css-12jzuas">
                                    <div class="ant-form-item-control-input">
                                        <div class="ant-form-item-control-input-content">
                                            <div
                                                class="ant-space css-12jzuas ant-space-horizontal ant-space-align-center"
                                                style="gap: 16px;">
                                                <div class="ant-space-item">
                                                    <div
                                                        style="display: flex; gap: 8px; align-items: center;">
                                                        <button type="button"
                                                                class="ant-btn css-12jzuas ant-btn-default">
                                                            <span>Reset</span></button>
                                                        <button type="button"
                                                                class="ant-btn css-12jzuas ant-btn-primary">
                                                            <span>Search</span></button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="ant-table-wrapper css-12jzuas">
            <div class="ant-spin-nested-loading css-12jzuas">
                <div class="ant-spin-container">
                    <div class="ant-table ant-table-scroll-horizontal">
                        <div class="ant-table-container">
                            <div class="ant-table-content" style="overflow: auto hidden;">
                                <table id="books-table" style="width: max-content; min-width: 100%; table-layout: auto;">
                                    <colgroup>
                                        <col class="ant-table-selection-col">
                                    </colgroup>
                                    <thead class="ant-table-thead">
                                    <tr>
                                        <th class="ant-table-cell" scope="col">No</th>
                                        <th class="ant-table-cell" scope="col">Name</th>
                                        <th class="ant-table-cell" scope="col">Category</th>
                                        <th class="ant-table-cell" scope="col">Author</th>
                                    </tr>
                                    </thead>
                                    <tbody class="ant-table-tbody">
                                    <tr aria-hidden="true" class="ant-table-measure-row"
                                        style="height: 0px; font-size: 0px;">
                                        <td style="padding: 0px; border: 0px; height: 0px;">
                                            <div style="height: 0px; overflow: hidden;">&nbsp;</div>
                                        </td>
                                        <td style="padding: 0px; border: 0px; height: 0px;">
                                            <div style="height: 0px; overflow: hidden;">&nbsp;</div>
                                        </td>
                                        <td style="padding: 0px; border: 0px; height: 0px;">
                                            <div style="height: 0px; overflow: hidden;">&nbsp;</div>
                                        </td>
                                        <td style="padding: 0px; border: 0px; height: 0px;">
                                            <div style="height: 0px; overflow: hidden;">&nbsp;</div>
                                        </td>
                                    </tr>

                                    </tbody>
                                </table>
                                <script>
                                    // Use JavaScript to fetch data from /book/all and populate the table
                                    fetch('{{ route('book.all') }}')
                                        .then(response => response.json())
                                        .then(books => {
                                            const tableBody = document.querySelector('#books-table tbody');
                                            no =1;
                                            books.forEach(book => {
                                                const row = document.createElement('tr');
                                                row.innerHTML = `
                        <td>${no}</td>
                        <td>${book.name}</td>
                        <td>${book.category.name}</td>
                        <td>${book.author.name}</td>
                    `;
                                                tableBody.appendChild(row);
                                                no=no+1;
                                            });
                                        })
                                        .catch(error => console.error('Error fetching data:', error));
                                </script>
                                <script>
                                    document.addEventListener('DOMContentLoaded', function () {
                                        var form = document.getElementById('bookSearchForm');
                                        var inputField = form.querySelector('#book_name');
                                        var searchButton = form.querySelector('.ant-btn-primary');
                                        var booksTable = document.getElementById('booksTable');

                                        searchButton.addEventListener('click', function () {
                                            var searchTerm = inputField.value;

                                            if(searchTerm===''){
                                                fetch('{{ route('book.all') }}')
                                                    .then(response => response.json())
                                                    .then(books => {
                                                        const tableBody = document.querySelector('#books-table tbody');
                                                        tableBody.innerHTML = "";
                                                        no=1
                                                        books.forEach(book => {
                                                            const row = document.createElement('tr');
                                                            row.innerHTML = `
                        <td>${no}</td>
                        <td>${book.name}</td>
                        <td>${book.category.name}</td>
                        <td>${book.author.name}</td>
                    `;

                                                            tableBody.appendChild(row);
                                                            no=no+1;
                                                        });
                                                    })
                                                    .catch(error => console.error('Error fetching data:', error));
                                            }else{
                                                fetch('{{ route('book.search', ['book_name' => '__book_name__']) }}'.replace('__book_name__', searchTerm))
                                                    .then(response => response.json())
                                                    .then(books => {
                                                        const tableBody = document.querySelector('#books-table tbody');
                                                        tableBody.innerHTML = "";
                                                        no=1;

                                                        // Populate the table with the search results
                                                        books.forEach(book => {
                                                            var row = document.createElement('tr');
                                                            row.innerHTML = `
                        <td>${no}</td>
                        <td>${book.name}</td>
                        <td>${book.category.name}</td>
                        <td>${book.author.name}</td>
                        `;

                                                            tableBody.appendChild(row);
                                                            no=no+1;
                                                        });
                                                    })
                                                    .catch(error => console.error('Error fetching data:', error));
                                            }
                                        });
                                    });
                                </script>
                                <script>
                                    document.addEventListener('DOMContentLoaded', function () {
                                        // Get the form and the input field
                                        var form = document.getElementById('bookSearchForm');
                                        var inputField = form.querySelector('#book_name'); // Assuming the input field has an ID

                                        // Get the "Reset" button
                                        var resetButton = form.querySelector('.ant-btn-default');

                                        // Add an event listener to the "Reset" button
                                        resetButton.addEventListener('click', function () {
                                            // Set the value of the input field to an empty string
                                            inputField.value = '';
                                        });
                                    });
                                </script>
                                <script>
                                    document.addEventListener('DOMContentLoaded', function () {
                                        var tableBody = document.getElementById('tableBody');
                                        var selectAllCheckbox = document.getElementById('selectAllCheckbox');

                                        // Event delegation for handling checkbox clicks in the table body
                                        tableBody.addEventListener('click', function (event) {
                                            var target = event.target;

                                            // Check if the clicked element is a checkbox
                                            if (target.type === 'checkbox') {
                                                // Toggle the 'selected' class on the parent row
                                                var row = target.closest('tr');
                                                row.classList.toggle('selected');
                                            }
                                        });

                                        // Event listener for the "Select all" checkbox in the table header
                                        selectAllCheckbox.addEventListener('click', function () {
                                            // Get all checkboxes in the table body
                                            var checkboxes = tableBody.querySelectorAll('input[type="checkbox"]');

                                            // Set the 'checked' property of each checkbox based on the state of the "Select all" checkbox
                                            checkboxes.forEach(function (checkbox) {
                                                checkbox.checked = selectAllCheckbox.checked;

                                                // Toggle the 'selected' class on the parent row
                                                var row = checkbox.closest('tr');
                                                if (selectAllCheckbox.checked) {
                                                    row.classList.add('selected');
                                                } else {
                                                    row.classList.remove('selected');
                                                }
                                            });
                                        });
                                    });
                                </script>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div>{{ $books->links() }}</div>
    </div>
</main>
@endsection
